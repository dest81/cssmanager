<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
    <title>Test coverage report: cssmanager.views</title>
    <style type="text/css" media="screen">
      a
      {
        color: #3d707a;
      }
      
      a:hover, a:active
      {
        color: #bf7d18;
      }
    
      body 
      {
        font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
        font-size: 13px;
      }
      
      .nav 
      {
        font-size: 12px;
        margin-left: 50px;
      }

      .ignored
      {
        color: #707070;
      }

      .executed 
      {
        color: #3d9900;
      }

      .missed 
      {
        color: red;
        font-weight: bold;
      }

      .excluded 
      {
        color: #6090f0;
        font-weight: lighter;
      }
    
      #content-header 
      {
        font-size: 12px;
        padding: 18px 0 18px 50px;
      }

      #content-header h1 
      {
        font-size: 16px;
        margin: 10px 0 0 0;
        color: #909090;
      }
      
      #module-name
      {
        color: #583707;
      }
    
      #content-header p
      {
        font-size: 13px;
        margin: 0;
        color: #909090;
      }

      #content-header .normal 
      {
        color: #609030;
      }

      #content-header .warning 
      {
        color: #d0a000;
      }

      #content-header .critical 
      {
        color: red;
      }
      
      #source-listing 
      {
        margin-bottom: 24px;
      }

      #source-listing ol 
      {
        padding: 0 0 0 50px;
        width: 90%;
        font-family: monospace;
        list-style-position: outside;
      }

      #source-listing ol li 
      {
        line-height: 18px;
        font-size: small;
      }
        
      #source-listing ol code 
      {
        padding:  0 .001em 0 0; /* Firefox doesn't render empty li's properly */
        font-size: medium;
        white-space: pre;
      }
   </style>
  </head>

  <body>

<div class="nav">
  <a href="cssmanager.templatetags.cssmanager.html">cssmanager.templatetags.cssmanager</a> &lt;&lt;
  <a href="../index.html">index</a>
</div>

<div id="content-header">
  <h1>
    <span id="module-name">cssmanager.views</span>:
    56 total statements,
    <span class="normal">98.0% covered</span>
  </h1>
  <p>Generated: Sun 2013-11-03 17:33 ‘ËÌÎˇÌ‰Ëˇ (ÁËÏ‡)</p>
  <p>Source file: C:\Users\Dest\PycharmProjects\findservice\cssmanager\views.py</p>
  <p>
    Stats:
    <span class="executed">49 executed</span>,
    <span class="missed">1 missed</span>,
    <span class="excluded">6 excluded</span>,
    <span class="ignored">24 ignored</span> 
  </p> 
</div>

<div id="source-listing">
  <ol>
    <li class="ignored"><code>#-*-encoding:UTF-8-*-</code></li>
<li class="excluded"><code>from django.http import HttpResponse</code></li>
<li class="excluded"><code>from django.template.loader import render_to_string</code></li>
<li class="excluded"><code>import os</code></li>
<li class="excluded"><code>from django.conf import settings</code></li>
<li class="excluded"><code>import cssmanager</code></li>
<li class="excluded"><code>import json</code></li>
<li class="ignored"><code></code></li>
<li class="ignored"><code></code></li>
<li class="ignored"><code># –§–∞–π–ª-–±—Ä–∞–≤–∑–µ—Ä</code></li>
<li class="executed"><code>def dirscss(request):</code></li>
<li class="executed"><code>    if request.is_ajax():</code></li>
<li class="executed"><code>        pathpar = request.GET.get('dir')</code></li>
<li class="ignored"><code>        #path = os.path.abspath(settings.CSSMANAGER_ROOTDIR)</code></li>
<li class="ignored"><code>        #rootdir = os.path.split(path)[0]</code></li>
<li class="ignored"><code>        # –∫–æ—Ä—ñ–Ω—å –Ω–∞—à–æ–≥–æ —Ñ–∞–π–ª-–±—Ä–∞–≤–∑–µ—Ä–∞</code></li>
<li class="executed"><code>        rootdir = os.path.abspath(settings.CSSMANAGER_ROOTDIR)</code></li>
<li class="executed"><code>        if pathpar == 'rootdir':</code></li>
<li class="executed"><code>            pathpar = rootdir</code></li>
<li class="executed"><code>        if os.path.isfile(pathpar) and os.path.exists(pathpar):</code></li>
<li class="executed"><code>            request.session["file"] = pathpar</code></li>
<li class="executed"><code>            selectors = cssmanager.get_selectors(pathpar)</code></li>
<li class="ignored"><code>            # —à–ª—è—Ö –ø–∞—Ä–µ–Ω—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó</code></li>
<li class="executed"><code>            back = os.path.split(pathpar)[0]</code></li>
<li class="executed"><code>            result = { 'back': back, 'pathpar': pathpar, 'selectors': selectors }</code></li>
<li class="ignored"><code>            """</code></li>
<li class="ignored"><code>            html = render_to_string('files.html',</code></li>
<li class="ignored"><code>                                    {'selectors': selectors,</code></li>
<li class="ignored"><code>                                     'back': back,</code></li>
<li class="ignored"><code>                                     'pathpar': pathpar, })</code></li>
<li class="ignored"><code>            return HttpResponse(html)</code></li>
<li class="ignored"><code>            """</code></li>
<li class="executed"><code>            data = json.dumps(result)</code></li>
<li class="executed"><code>            return HttpResponse(data, mimetype='application/json')</code></li>
<li class="executed"><code>        elif os.path.isdir(pathpar) and pathpar.startswith(rootdir):</code></li>
<li class="executed"><code>            if pathpar != rootdir:</code></li>
<li class="executed"><code>                back = os.path.split(pathpar)[0]</code></li>
<li class="ignored"><code>            else:</code></li>
<li class="executed"><code>                back = ''</code></li>
<li class="executed"><code>            listdirs = os.listdir(pathpar)  #</code></li>
<li class="executed"><code>            dirs = {}</code></li>
<li class="executed"><code>            files = {}</code></li>
<li class="executed"><code>            for name in listdirs:</code></li>
<li class="executed"><code>                path = os.path.join(pathpar, name)</code></li>
<li class="executed"><code>                if os.path.isfile(path) and \</code></li>
<li class="ignored"><code>                   os.path.splitext(path)[1] == '.css':</code></li>
<li class="executed"><code>                    files[os.path.normpath(path)] = name</code></li>
<li class="executed"><code>                elif os.path.isdir(path):</code></li>
<li class="executed"><code>                    dirs[path] = name</code></li>
<li class="executed"><code>            html = render_to_string('dirs.html',</code></li>
<li class="ignored"><code>                                    {'dirs': dirs,</code></li>
<li class="ignored"><code>                                     'files': files,</code></li>
<li class="ignored"><code>                                     'back': back, })</code></li>
<li class="executed"><code>            return HttpResponse(html)</code></li>
<li class="ignored"><code>        else:</code></li>
<li class="executed"><code>            return HttpResponse('error path')</code></li>
<li class="ignored"><code></code></li>
<li class="ignored"><code></code></li>
<li class="ignored"><code># –æ–±—Ä–æ–±–∫–∞ —ñ –ø–µ—Ä–µ–¥–∞—á–∞ –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω–Ω—è css</code></li>
<li class="executed"><code>def submitcss(request):</code></li>
<li class="executed"><code>    if request.is_ajax():</code></li>
<li class="executed"><code>        try:</code></li>
<li class="executed"><code>            selector = request.GET.get('selector')</code></li>
<li class="executed"><code>            props = request.GET.get('prop')</code></li>
<li class="executed"><code>            dic = {}</code></li>
<li class="executed"><code>            for prop in props.split(","):</code></li>
<li class="executed"><code>                dic[prop.split(":")[0]] = prop.split(":")[1]</code></li>
<li class="executed"><code>            try:</code></li>
<li class="executed"><code>                try:</code></li>
<li class="executed"><code>                    file = request.session["file"]</code></li>
<li class="executed"><code>                except KeyError:</code></li>
<li class="executed"><code>                    file = None</code></li>
<li class="executed"><code>                cssmanager.set_selectors(file, selector, dic)</code></li>
<li class="missed"><code>                result = "Successfully saved"</code></li>
<li class="executed"><code>            except:</code></li>
<li class="executed"><code>                result = "Problem with Saving"</code></li>
<li class="executed"><code>            return HttpResponse(result)</code></li>
<li class="executed"><code>        except:</code></li>
<li class="executed"><code>            result = "Submit Error"</code></li>
<li class="executed"><code>            return HttpResponse(result)</code></li>
  </ol>
</div>

<div class="nav">
  <a href="cssmanager.templatetags.cssmanager.html">cssmanager.templatetags.cssmanager</a> &lt;&lt;
  <a href="../index.html">index</a>
</div>

  </body>
</html>

